var code = "";
App({
  data: {
    /* "city": [{ "zipcode": 550001, "pinyin": "gy", "citycode": 851, "lng": 106.713478, "mergername": "中国,贵州省,贵阳市", "name": "贵阳市", "leveltype": 2, "id": 520100, "shortname": "贵阳", "parentid": 520000, "lat": 26.578343 }, { "zipcode": 550001, "pinyin": "nm", "citycode": 851, "lng": 106.7145, "mergername": "中国,贵州省,贵阳市,南明区", "name": "南明区", "leveltype": 3, "id": 520102, "shortname": "南明", "parentid": 520100, "lat": 26.56819 }, { "zipcode": 550001, "pinyin": "yy", "citycode": 851, "lng": 106.72485, "mergername": "中国,贵州省,贵阳市,云岩区", "name": "云岩区", "leveltype": 3, "id": 520103, "shortname": "云岩", "parentid": 520100, "lat": 26.60484 }, { "zipcode": 550025, "pinyin": "hx", "citycode": 851, "lng": 106.67688, "mergername": "中国,贵州省,贵阳市,花溪区", "name": "花溪区", "leveltype": 3, "id": 520111, "shortname": "花溪", "parentid": 520100, "lat": 26.43343 }, { "zipcode": 550018, "pinyin": "wd", "citycode": 851, "lng": 106.7521, "mergername": "中国,贵州省,贵阳市,乌当区", "name": "乌当区", "leveltype": 3, "id": 520112, "shortname": "乌当", "parentid": 520100, "lat": 26.6302 }, { "zipcode": 550014, "pinyin": "by", "citycode": 851, "lng": 106.63088, "mergername": "中国,贵州省,贵阳市,白云区", "name": "白云区", "leveltype": 3, "id": 520113, "shortname": "白云", "parentid": 520100, "lat": 26.68284 }, { "zipcode": 550009, "pinyin": "gsh", "citycode": 851, "lng": 106.625442, "mergername": "中国,贵州省,贵阳市,观山湖区", "name": "观山湖区", "leveltype": 3, "id": 520115, "shortname": "观山湖", "parentid": 520100, "lat": 26.618209 }, { "zipcode": 550300, "pinyin": "ky", "citycode": 851, "lng": 106.9692, "mergername": "中国,贵州省,贵阳市,开阳县", "name": "开阳县", "leveltype": 3, "id": 520121, "shortname": "开阳", "parentid": 520100, "lat": 27.05533 }, { "zipcode": 551100, "pinyin": "xf", "citycode": 851, "lng": 106.738, "mergername": "中国,贵州省,贵阳市,息烽县", "name": "息烽县", "leveltype": 3, "id": 520122, "shortname": "息烽", "parentid": 520100, "lat": 27.09346 }, { "zipcode": 550200, "pinyin": "xw", "citycode": 851, "lng": 106.59487, "mergername": "中国,贵州省,贵阳市,修文县", "name": "修文县", "leveltype": 3, "id": 520123, "shortname": "修文", "parentid": 520100, "lat": 26.83783 }, { "zipcode": 551400, "pinyin": "qz", "citycode": 851, "lng": 106.46862, "mergername": "中国,贵州省,贵阳市,清镇市", "name": "清镇市", "leveltype": 3, "id": 520181, "shortname": "清镇", "parentid": 520100, "lat": 26.55261 }, { "zipcode": 553400, "pinyin": "lps", "citycode": 858, "lng": 104.846743, "mergername": "中国,贵州省,六盘水市", "name": "六盘水市", "leveltype": 2, "id": 520200, "shortname": "六盘水", "parentid": 520000, "lat": 26.584643 }, { "zipcode": 553000, "pinyin": "zs", "citycode": 858, "lng": 104.87848, "mergername": "中国,贵州省,六盘水市,钟山区", "name": "钟山区", "leveltype": 3, "id": 520201, "shortname": "钟山", "parentid": 520200, "lat": 26.57699 }, { "zipcode": 553400, "pinyin": "lz", "citycode": 858, "lng": 105.48062, "mergername": "中国,贵州省,六盘水市,六枝特区", "name": "六枝特区", "leveltype": 3, "id": 520203, "shortname": "六枝", "parentid": 520200, "lat": 26.20117 }, { "zipcode": 553000, "pinyin": "sc", "citycode": 858, "lng": 104.95764, "mergername": "中国,贵州省,六盘水市,水城县", "name": "水城县", "leveltype": 3, "id": 520221, "shortname": "水城", "parentid": 520200, "lat": 26.54785 }, { "zipcode": 561601, "pinyin": "px", "citycode": 858, "lng": 104.47061, "mergername": "中国,贵州省,六盘水市,盘县", "name": "盘县", "leveltype": 3, "id": 520222, "shortname": "盘县", "parentid": 520200, "lat": 25.7136 }, { "zipcode": 563000, "pinyin": "zy", "citycode": 852, "lng": 106.937265, "mergername": "中国,贵州省,遵义市", "name": "遵义市", "leveltype": 2, "id": 520300, "shortname": "遵义", "parentid": 520000, "lat": 27.706626 }, { "zipcode": 563000, "pinyin": "hhg", "citycode": 852, "lng": 106.89404, "mergername": "中国,贵州省,遵义市,红花岗区", "name": "红花岗区", "leveltype": 3, "id": 520302, "shortname": "红花岗", "parentid": 520300, "lat": 27.64471 }, { "zipcode": 563000, "pinyin": "hc", "citycode": 852, "lng": 106.9393, "mergername": "中国,贵州省,遵义市,汇川区", "name": "汇川区", "leveltype": 3, "id": 520303, "shortname": "汇川", "parentid": 520300, "lat": 27.70625 }, { "zipcode": 563100, "pinyin": "zy", "citycode": 852, "lng": 106.83331, "mergername": "中国,贵州省,遵义市,遵义县", "name": "遵义县", "leveltype": 3, "id": 520321, "shortname": "遵义", "parentid": 520300, "lat": 27.53772 }, { "zipcode": 563200, "pinyin": "tz", "citycode": 852, "lng": 106.82568, "mergername": "中国,贵州省,遵义市,桐梓县", "name": "桐梓县", "leveltype": 3, "id": 520322, "shortname": "桐梓", "parentid": 520300, "lat": 28.13806 }, { "zipcode": 563300, "pinyin": "sy", "citycode": 852, "lng": 107.19064, "mergername": "中国,贵州省,遵义市,绥阳县", "name": "绥阳县", "leveltype": 3, "id": 520323, "shortname": "绥阳", "parentid": 520300, "lat": 27.94702 }, { "zipcode": 563400, "pinyin": "za", "citycode": 852, "lng": 107.44357, "mergername": "中国,贵州省,遵义市,正安县", "name": "正安县", "leveltype": 3, "id": 520324, "shortname": "正安", "parentid": 520300, "lat": 28.5512 }, { "zipcode": 563500, "pinyin": "dz", "citycode": 852, "lng": 107.61152, "mergername": "中国,贵州省,遵义市,道真仡佬族苗族自治县", "name": "道真仡佬族苗族自治县", "leveltype": 3, "id": 520325, "shortname": "道真", "parentid": 520300, "lat": 28.864 }, { "zipcode": 564300, "pinyin": "wc", "citycode": 852, "lng": 107.88935, "mergername": "中国,贵州省,遵义市,务川仡佬族苗族自治县", "name": "务川仡佬族苗族自治县", "leveltype": 3, "id": 520326, "shortname": "务川", "parentid": 520300, "lat": 28.52227 }, { "zipcode": 564200, "pinyin": "fg", "citycode": 852, "lng": 107.71682, "mergername": "中国,贵州省,遵义市,凤冈县", "name": "凤冈县", "leveltype": 3, "id": 520327, "shortname": "凤冈", "parentid": 520300, "lat": 27.95461 }, { "zipcode": 564100, "pinyin": "mt", "citycode": 852, "lng": 107.48779, "mergername": "中国,贵州省,遵义市,湄潭县", "name": "湄潭县", "leveltype": 3, "id": 520328, "shortname": "湄潭", "parentid": 520300, "lat": 27.76676 }, { "zipcode": 564400, "pinyin": "yq", "citycode": 852, "lng": 107.88821, "mergername": "中国,贵州省,遵义市,余庆县", "name": "余庆县", "leveltype": 3, "id": 520329, "shortname": "余庆", "parentid": 520300, "lat": 27.22532 }, { "zipcode": 564600, "pinyin": "xs", "citycode": 852, "lng": 106.21267, "mergername": "中国,贵州省,遵义市,习水县", "name": "习水县", "leveltype": 3, "id": 520330, "shortname": "习水", "parentid": 520300, "lat": 28.31976 }, { "zipcode": 564700, "pinyin": "ch", "citycode": 852, "lng": 105.69845, "mergername": "中国,贵州省,遵义市,赤水市", "name": "赤水市", "leveltype": 3, "id": 520381, "shortname": "赤水", "parentid": 520300, "lat": 28.58921 }, { "zipcode": 564500, "pinyin": "rh", "citycode": 852, "lng": 106.40152, "mergername": "中国,贵州省,遵义市,仁怀市", "name": "仁怀市", "leveltype": 3, "id": 520382, "shortname": "仁怀", "parentid": 520300, "lat": 27.79231 }, { "zipcode": 561000, "pinyin": "as", "citycode": 853, "lng": 105.932188, "mergername": "中国,贵州省,安顺市", "name": "安顺市", "leveltype": 2, "id": 520400, "shortname": "安顺", "parentid": 520000, "lat": 26.245544 }, { "zipcode": 561000, "pinyin": "xx", "citycode": 853, "lng": 105.96585, "mergername": "中国,贵州省,安顺市,西秀区", "name": "西秀区", "leveltype": 3, "id": 520402, "shortname": "西秀", "parentid": 520400, "lat": 26.24491 }, { "zipcode": 561100, "pinyin": "pb", "citycode": 853, "lng": 106.25683, "mergername": "中国,贵州省,安顺市,平坝区", "name": "平坝区", "leveltype": 3, "id": 520421, "shortname": "平坝", "parentid": 520400, "lat": 26.40543 }, { "zipcode": 562100, "pinyin": "pd", "citycode": 853, "lng": 105.74285, "mergername": "中国,贵州省,安顺市,普定县", "name": "普定县", "leveltype": 3, "id": 520422, "shortname": "普定", "parentid": 520400, "lat": 26.30141 }, { "zipcode": 561200, "pinyin": "zn", "citycode": 853, "lng": 105.76513, "mergername": "中国,贵州省,安顺市,镇宁布依族苗族自治县", "name": "镇宁布依族苗族自治县", "leveltype": 3, "id": 520423, "shortname": "镇宁", "parentid": 520400, "lat": 26.05533 }, { "zipcode": 561300, "pinyin": "gl", "citycode": 853, "lng": 105.61883, "mergername": "中国,贵州省,安顺市,关岭布依族苗族自治县", "name": "关岭布依族苗族自治县", "leveltype": 3, "id": 520424, "shortname": "关岭", "parentid": 520400, "lat": 25.94248 }, { "zipcode": 550800, "pinyin": "zy", "citycode": 853, "lng": 106.08364, "mergername": "中国,贵州省,安顺市,紫云苗族布依族自治县", "name": "紫云苗族布依族自治县", "leveltype": 3, "id": 520425, "shortname": "紫云", "parentid": 520400, "lat": 25.75258 }, { "zipcode": 551700, "pinyin": "bj", "citycode": 857, "lng": 105.28501, "mergername": "中国,贵州省,毕节市", "name": "毕节市", "leveltype": 2, "id": 520500, "shortname": "毕节", "parentid": 520000, "lat": 27.301693 }, { "zipcode": 551700, "pinyin": "qg", "citycode": 857, "lng": 104.9497, "mergername": "中国,贵州省,毕节市,七星关区", "name": "七星关区", "leveltype": 3, "id": 520502, "shortname": "七星关", "parentid": 520500, "lat": 27.153556 }, { "zipcode": 551600, "pinyin": "df", "citycode": 857, "lng": 105.609254, "mergername": "中国,贵州省,毕节市,大方县", "name": "大方县", "leveltype": 3, "id": 520521, "shortname": "大方", "parentid": 520500, "lat": 27.143521 }, { "zipcode": 551500, "pinyin": "qx", "citycode": 857, "lng": 106.038299, "mergername": "中国,贵州省,毕节市,黔西县", "name": "黔西县", "leveltype": 3, "id": 520522, "shortname": "黔西", "parentid": 520500, "lat": 27.024923 }, { "zipcode": 551800, "pinyin": "js", "citycode": 857, "lng": 106.222103, "mergername": "中国,贵州省,毕节市,金沙县", "name": "金沙县", "leveltype": 3, "id": 520523, "shortname": "金沙", "parentid": 520500, "lat": 27.459693 }, { "zipcode": 552100, "pinyin": "zj", "citycode": 857, "lng": 105.768997, "mergername": "中国,贵州省,毕节市,织金县", "name": "织金县", "leveltype": 3, "id": 520524, "shortname": "织金", "parentid": 520500, "lat": 26.668497 }, { "zipcode": 553300, "pinyin": "ny", "citycode": 857, "lng": 105.375322, "mergername": "中国,贵州省,毕节市,纳雍县", "name": "纳雍县", "leveltype": 3, "id": 520525, "shortname": "纳雍", "parentid": 520500, "lat": 26.769875 }, { "zipcode": 553100, "pinyin": "wn", "citycode": 857, "lng": 104.286523, "mergername": "中国,贵州省,毕节市,威宁彝族回族苗族自治县", "name": "威宁彝族回族苗族自治县", "leveltype": 3, "id": 520526, "shortname": "威宁", "parentid": 520500, "lat": 26.859099 }, { "zipcode": 553200, "pinyin": "hz", "citycode": 857, "lng": 104.726438, "mergername": "中国,贵州省,毕节市,赫章县", "name": "赫章县", "leveltype": 3, "id": 520527, "shortname": "赫章", "parentid": 520500, "lat": 27.119243 }, { "zipcode": 554300, "pinyin": "tr", "citycode": 856, "lng": 109.191555, "mergername": "中国,贵州省,铜仁市", "name": "铜仁市", "leveltype": 2, "id": 520600, "shortname": "铜仁", "parentid": 520000, "lat": 27.718346 }, { "zipcode": 554300, "pinyin": "bj", "citycode": 856, "lng": 109.191555, "mergername": "中国,贵州省,铜仁市,碧江区", "name": "碧江区", "leveltype": 3, "id": 520602, "shortname": "碧江", "parentid": 520600, "lat": 27.718346 }, { "zipcode": 554200, "pinyin": "ws", "citycode": 856, "lng": 109.21199, "mergername": "中国,贵州省,铜仁市,万山区", "name": "万山区", "leveltype": 3, "id": 520603, "shortname": "万山", "parentid": 520600, "lat": 27.51903 }, { "zipcode": 554400, "pinyin": "jk", "citycode": 856, "lng": 108.848427, "mergername": "中国,贵州省,铜仁市,江口县", "name": "江口县", "leveltype": 3, "id": 520621, "shortname": "江口", "parentid": 520600, "lat": 27.691904 }, { "zipcode": 554004, "pinyin": "yp", "citycode": 856, "lng": 108.917882, "mergername": "中国,贵州省,铜仁市,玉屏侗族自治县", "name": "玉屏侗族自治县", "leveltype": 3, "id": 520622, "shortname": "玉屏", "parentid": 520600, "lat": 27.238024 }, { "zipcode": 555100, "pinyin": "sq", "citycode": 856, "lng": 108.229854, "mergername": "中国,贵州省,铜仁市,石阡县", "name": "石阡县", "leveltype": 3, "id": 520623, "shortname": "石阡", "parentid": 520600, "lat": 27.519386 }, { "zipcode": 565100, "pinyin": "sn", "citycode": 856, "lng": 108.255827, "mergername": "中国,贵州省,铜仁市,思南县", "name": "思南县", "leveltype": 3, "id": 520624, "shortname": "思南", "parentid": 520600, "lat": 27.941331 }, { "zipcode": 555200, "pinyin": "yj", "citycode": 856, "lng": 108.405517, "mergername": "中国,贵州省,铜仁市,印江土家族苗族自治县", "name": "印江土家族苗族自治县", "leveltype": 3, "id": 520625, "shortname": "印江", "parentid": 520600, "lat": 27.997976 }, { "zipcode": 565200, "pinyin": "dj", "citycode": 856, "lng": 108.117317, "mergername": "中国,贵州省,铜仁市,德江县", "name": "德江县", "leveltype": 3, "id": 520626, "shortname": "德江", "parentid": 520600, "lat": 28.26094 }, { "zipcode": 565300, "pinyin": "yh", "citycode": 856, "lng": 108.495746, "mergername": "中国,贵州省,铜仁市,沿河土家族自治县", "name": "沿河土家族自治县", "leveltype": 3, "id": 520627, "shortname": "沿河", "parentid": 520600, "lat": 28.560487 }, { "zipcode": 554100, "pinyin": "st", "citycode": 856, "lng": 109.202627, "mergername": "中国,贵州省,铜仁市,松桃苗族自治县", "name": "松桃苗族自治县", "leveltype": 3, "id": 520628, "shortname": "松桃", "parentid": 520600, "lat": 28.165419 }, { "zipcode": 562400, "pinyin": "qxn", "citycode": 859, "lng": 104.897971, "mergername": "中国,贵州省,黔西南布依族苗族自治州", "name": "黔西南布依族苗族自治州", "leveltype": 2, "id": 522300, "shortname": "黔西南", "parentid": 520000, "lat": 25.08812 }, { "zipcode": 562400, "pinyin": "xy", "citycode": 859, "lng": 104.89548, "mergername": "中国,贵州省,黔西南布依族苗族自治州,兴义市 ", "name": "兴义市 ", "leveltype": 3, "id": 522301, "shortname": "兴义", "parentid": 522300, "lat": 25.09205 }, { "zipcode": 562300, "pinyin": "xr", "citycode": 859, "lng": 105.18652, "mergername": "中国,贵州省,黔西南布依族苗族自治州,兴仁县", "name": "兴仁县", "leveltype": 3, "id": 522322, "shortname": "兴仁", "parentid": 522300, "lat": 25.43282 }, { "zipcode": 561500, "pinyin": "pa", "citycode": 859, "lng": 104.95529, "mergername": "中国,贵州省,黔西南布依族苗族自治州,普安县", "name": "普安县", "leveltype": 3, "id": 522323, "shortname": "普安", "parentid": 522300, "lat": 25.78603 }, { "zipcode": 561400, "pinyin": "ql", "citycode": 859, "lng": 105.2192, "mergername": "中国,贵州省,黔西南布依族苗族自治州,晴隆县", "name": "晴隆县", "leveltype": 3, "id": 522324, "shortname": "晴隆", "parentid": 522300, "lat": 25.83522 }, { "zipcode": 562200, "pinyin": "zf", "citycode": 859, "lng": 105.65454, "mergername": "中国,贵州省,黔西南布依族苗族自治州,贞丰县", "name": "贞丰县", "leveltype": 3, "id": 522325, "shortname": "贞丰", "parentid": 522300, "lat": 25.38464 }, { "zipcode": 552300, "pinyin": "wm", "citycode": 859, "lng": 106.09957, "mergername": "中国,贵州省,黔西南布依族苗族自治州,望谟县", "name": "望谟县", "leveltype": 3, "id": 522326, "shortname": "望谟", "parentid": 522300, "lat": 25.17822 }, { "zipcode": 552200, "pinyin": "ch", "citycode": 859, "lng": 105.8124, "mergername": "中国,贵州省,黔西南布依族苗族自治州,册亨县", "name": "册亨县", "leveltype": 3, "id": 522327, "shortname": "册亨", "parentid": 522300, "lat": 24.98376 }, { "zipcode": 552400, "pinyin": "al", "citycode": 859, "lng": 105.44268, "mergername": "中国,贵州省,黔西南布依族苗族自治州,安龙县", "name": "安龙县", "leveltype": 3, "id": 522328, "shortname": "安龙", "parentid": 522300, "lat": 25.09818 }, { "zipcode": 556000, "pinyin": "qdn", "citycode": 855, "lng": 107.977488, "mergername": "中国,贵州省,黔东南苗族侗族自治州", "name": "黔东南苗族侗族自治州", "leveltype": 2, "id": 522600, "shortname": "黔东南", "parentid": 520000, "lat": 26.583352 }, { "zipcode": 556000, "pinyin": "kl", "citycode": 855, "lng": 107.98132, "mergername": "中国,贵州省,黔东南苗族侗族自治州,凯里市", "name": "凯里市", "leveltype": 3, "id": 522601, "shortname": "凯里", "parentid": 522600, "lat": 26.56689 }, { "zipcode": 556100, "pinyin": "hp", "citycode": 855, "lng": 107.90179, "mergername": "中国,贵州省,黔东南苗族侗族自治州,黄平县", "name": "黄平县", "leveltype": 3, "id": 522622, "shortname": "黄平", "parentid": 522600, "lat": 26.89573 }, { "zipcode": 556200, "pinyin": "sb", "citycode": 855, "lng": 108.12597, "mergername": "中国,贵州省,黔东南苗族侗族自治州,施秉县", "name": "施秉县", "leveltype": 3, "id": 522623, "shortname": "施秉", "parentid": 522600, "lat": 27.03495 }, { "zipcode": 556500, "pinyin": "ss", "citycode": 855, "lng": 108.67132, "mergername": "中国,贵州省,黔东南苗族侗族自治州,三穗县", "name": "三穗县", "leveltype": 3, "id": 522624, "shortname": "三穗", "parentid": 522600, "lat": 26.94765 }, { "zipcode": 557700, "pinyin": "zy", "citycode": 855, "lng": 108.42721, "mergername": "中国,贵州省,黔东南苗族侗族自治州,镇远县", "name": "镇远县", "leveltype": 3, "id": 522625, "shortname": "镇远", "parentid": 522600, "lat": 27.04933 }, { "zipcode": 557800, "pinyin": "cg", "citycode": 855, "lng": 108.81884, "mergername": "中国,贵州省,黔东南苗族侗族自治州,岑巩县", "name": "岑巩县", "leveltype": 3, "id": 522626, "shortname": "岑巩", "parentid": 522600, "lat": 27.17539 }, { "zipcode": 556600, "pinyin": "tz", "citycode": 855, "lng": 109.20718, "mergername": "中国,贵州省,黔东南苗族侗族自治州,天柱县", "name": "天柱县", "leveltype": 3, "id": 522627, "shortname": "天柱", "parentid": 522600, "lat": 26.90781 }, { "zipcode": 556700, "pinyin": "jp", "citycode": 855, "lng": 109.19982, "mergername": "中国,贵州省,黔东南苗族侗族自治州,锦屏县", "name": "锦屏县", "leveltype": 3, "id": 522628, "shortname": "锦屏", "parentid": 522600, "lat": 26.67635 }, { "zipcode": 556400, "pinyin": "jh", "citycode": 855, "lng": 108.5913, "mergername": "中国,贵州省,黔东南苗族侗族自治州,剑河县", "name": "剑河县", "leveltype": 3, "id": 522629, "shortname": "剑河", "parentid": 522600, "lat": 26.6525 }, { "zipcode": 556300, "pinyin": "tj", "citycode": 855, "lng": 108.31814, "mergername": "中国,贵州省,黔东南苗族侗族自治州,台江县", "name": "台江县", "leveltype": 3, "id": 522630, "shortname": "台江", "parentid": 522600, "lat": 26.66916 }, { "zipcode": 557300, "pinyin": "lp", "citycode": 855, "lng": 109.13607, "mergername": "中国,贵州省,黔东南苗族侗族自治州,黎平县", "name": "黎平县", "leveltype": 3, "id": 522631, "shortname": "黎平", "parentid": 522600, "lat": 26.23114 }, { "zipcode": 557200, "pinyin": "rj", "citycode": 855, "lng": 108.52072, "mergername": "中国,贵州省,黔东南苗族侗族自治州,榕江县", "name": "榕江县", "leveltype": 3, "id": 522632, "shortname": "榕江", "parentid": 522600, "lat": 25.92421 }, { "zipcode": 557400, "pinyin": "cj", "citycode": 855, "lng": 108.90527, "mergername": "中国,贵州省,黔东南苗族侗族自治州,从江县", "name": "从江县", "leveltype": 3, "id": 522633, "shortname": "从江", "parentid": 522600, "lat": 25.75415 }, { "zipcode": 557100, "pinyin": "ls", "citycode": 855, "lng": 108.07745, "mergername": "中国,贵州省,黔东南苗族侗族自治州,雷山县", "name": "雷山县", "leveltype": 3, "id": 522634, "shortname": "雷山", "parentid": 522600, "lat": 26.38385 }, { "zipcode": 557600, "pinyin": "mj", "citycode": 855, "lng": 107.59155, "mergername": "中国,贵州省,黔东南苗族侗族自治州,麻江县", "name": "麻江县", "leveltype": 3, "id": 522635, "shortname": "麻江", "parentid": 522600, "lat": 26.49235 }, { "zipcode": 557500, "pinyin": "dz", "citycode": 855, "lng": 107.79718, "mergername": "中国,贵州省,黔东南苗族侗族自治州,丹寨县", "name": "丹寨县", "leveltype": 3, "id": 522636, "shortname": "丹寨", "parentid": 522600, "lat": 26.19816 }, { "zipcode": 558000, "pinyin": "qn", "citycode": 854, "lng": 107.517156, "mergername": "中国,贵州省,黔南布依族苗族自治州", "name": "黔南布依族苗族自治州", "leveltype": 2, "id": 522700, "shortname": "黔南", "parentid": 520000, "lat": 26.258219 }, { "zipcode": 558000, "pinyin": "dy", "citycode": 854, "lng": 107.51872, "mergername": "中国,贵州省,黔南布依族苗族自治州,都匀市", "name": "都匀市", "leveltype": 3, "id": 522701, "shortname": "都匀", "parentid": 522700, "lat": 26.2594 }, { "zipcode": 550500, "pinyin": "fq", "citycode": 854, "lng": 107.51715, "mergername": "中国,贵州省,黔南布依族苗族自治州,福泉市", "name": "福泉市", "leveltype": 3, "id": 522702, "shortname": "福泉", "parentid": 522700, "lat": 26.67989 }, { "zipcode": 558400, "pinyin": "lb", "citycode": 854, "lng": 107.88592, "mergername": "中国,贵州省,黔南布依族苗族自治州,荔波县", "name": "荔波县", "leveltype": 3, "id": 522722, "shortname": "荔波", "parentid": 522700, "lat": 25.4139 }, { "zipcode": 551300, "pinyin": "gd", "citycode": 854, "lng": 107.23654, "mergername": "中国,贵州省,黔南布依族苗族自治州,贵定县", "name": "贵定县", "leveltype": 3, "id": 522723, "shortname": "贵定", "parentid": 522700, "lat": 26.57812 }, { "zipcode": 550400, "pinyin": "wa", "citycode": 854, "lng": 107.4757, "mergername": "中国,贵州省,黔南布依族苗族自治州,瓮安县", "name": "瓮安县", "leveltype": 3, "id": 522725, "shortname": "瓮安", "parentid": 522700, "lat": 27.06813 }, { "zipcode": 558200, "pinyin": "ds", "citycode": 854, "lng": 107.54101, "mergername": "中国,贵州省,黔南布依族苗族自治州,独山县", "name": "独山县", "leveltype": 3, "id": 522726, "shortname": "独山", "parentid": 522700, "lat": 25.8245 }, { "zipcode": 558300, "pinyin": "pt", "citycode": 854, "lng": 107.32428, "mergername": "中国,贵州省,黔南布依族苗族自治州,平塘县", "name": "平塘县", "leveltype": 3, "id": 522727, "shortname": "平塘", "parentid": 522700, "lat": 25.83294 }, { "zipcode": 550100, "pinyin": "ld", "citycode": 854, "lng": 106.75186, "mergername": "中国,贵州省,黔南布依族苗族自治州,罗甸县", "name": "罗甸县", "leveltype": 3, "id": 522728, "shortname": "罗甸", "parentid": 522700, "lat": 25.42586 }, { "zipcode": 550700, "pinyin": "cs", "citycode": 854, "lng": 106.45217, "mergername": "中国,贵州省,黔南布依族苗族自治州,长顺县", "name": "长顺县", "leveltype": 3, "id": 522729, "shortname": "长顺", "parentid": 522700, "lat": 26.02299 }, { "zipcode": 551200, "pinyin": "ll", "citycode": 854, "lng": 106.97662, "mergername": "中国,贵州省,黔南布依族苗族自治州,龙里县", "name": "龙里县", "leveltype": 3, "id": 522730, "shortname": "龙里", "parentid": 522700, "lat": 26.45076 }, { "zipcode": 550600, "pinyin": "hs", "citycode": 854, "lng": 106.65911, "mergername": "中国,贵州省,黔南布依族苗族自治州,惠水县", "name": "惠水县", "leveltype": 3, "id": 522731, "shortname": "惠水", "parentid": 522700, "lat": 26.13389 }, { "zipcode": 558100, "pinyin": "sd", "citycode": 854, "lng": 107.87464, "mergername": "中国,贵州省,黔南布依族苗族自治州,三都水族自治县", "name": "三都水族自治县", "leveltype": 3, "id": 522732, "shortname": "三都", "parentid": 522700, "lat": 25.98562 }],
     */
    "city": [
      { "zipcode": 554300, "pinyin": "bj", "citycode": 856, "lng": 109.191555, "mergername": "中国,贵州省,铜仁市,碧江区", "name": "碧江区", "leveltype": 3, "id": 520602, "shortname": "碧江", "parentid": 520600, "lat": 27.718346 }]
  },
  onLaunch: function () {
    //调用API从本地缓存中获取数据
    wx.setStorageSync("isrefresh", false);
    console.log("login");`  `
  },
  getUserInfo: function (cb) {
    var that = this
    if (this.globalData.userInfo) {
      typeof cb == "function" && cb(this.globalData.userInfo)
    } else {
      //调用登录接口
      wx.login({
        success: function () {
          wx.getUserInfo({
            success: function (res) {
              that.globalData.userInfo = res.userInfo
              typeof cb == "function" && cb(that.globalData.userInfo)
            }
          })
        }
      })
    }
  },
  globalData: {
    userInfo: null
  },
  domain: 'https://www.bianlikou.com',
  domain2: 'https://www.bianlikou.com',
  getRequest: function (api, datas, callback, menthod) {
    var self = this;
    wx.request({
      url: self.domain + api,
      method: menthod,
      data: datas,
      header: { "cache-control": "private", "Content-Type": "application/json; charset=utf-8 " },
      success: function (res) {
        console.log("----------------------------")
        console.log(res);
        if (res.data.status == "success") {
          callback(res);
        }

      },
      complete: function (res) {
      }
    })
  },
  getRequestByTokent: function (api, datas, token, callback, menthod) {
    var self = this;
    console.log("--------------------------sending------------------------------------")
    console.log(datas)
    console.log("--------------------------sending------------------------------------")
    wx.request({
      url: self.domain + api,
      method: menthod,
      data: datas,
      header: { "cache-control": "private", "Content-Type": "application/json; charset=utf-8 ", "Authorization": token },
      success: function (res) {
        console.log(res);
        console.log("--------------------------respoing------------------------------------")
        console.log(res.data.msg);
        console.log(res.data.status);
        console.log("--------------------------respoing------------------------------------")
        if (res.data.status == "success") {
          callback(res);
        }
      },
      complete: function (res) {
      }
    })
  },

  newToken: function () {
    var jwttoken = wx.getStorageSync("jwttoken");
    var getNewjwttoken = "/sys/v1/retoken";

    this.getRequestByTokent(getNewjwttoken, "", jwttoken, "POST");
  },
  getNewToken: function (res) {
    console.log("getNewToken");
    console.log(res);
  },
  login: function () {
    wx.navigateTo({
      url: '/pages/my/get-user-info/get-user-info',
    })
  },

  fomatDate: function (str) {
    var date = new Date(str);
    //var dates = str.substring(0, 10);
    var hour = date.getHours() < 10 ? ("0" + date.getHours()) : date.getHours();
    var minutes = date.getMinutes() < 10 ? ("0" + date.getMinutes()) : date.getMinutes();
    return date.getFullYear() + '/' + (date.getMonth() - 0 + 1) + '/' + date.getDate() + " " + hour + ":" + minutes;
  },
  refresh: function (who) {
    who.onLoad();
    wx.setStorageSync("isrefresh", false);
  },
  getImgURl: function (imageSrc) {
    var imgs = imageSrc.split("|");
    for (var i = 0;i<imgs.length;i++) {
      if (imgs[i]) {
        return imgs[i];
      }
    }
  },
  getDateStr:function(str1,str2){
    var date1 = new Date(str1);
    var hour = date1.getHours() < 10 ? ("0" + date1.getHours()) : date1.getHours();
    var minutes = date1.getMinutes() < 10 ? ("0" + date1.getMinutes()) : date1.getMinutes();
    str1 = date1.getFullYear() + '/' + (date1.getMonth() - 0 + 1) + '/' + date1.getDate() + " " + hour + ":" + minutes;
    var date2 = new Date(str2);
    var hour = date2.getHours() < 10 ? ("0" + date2.getHours()) : date2.getHours();
    var minutes = date2.getMinutes() < 10 ? ("0" + date2.getMinutes()) : date2.getMinutes();
    if (date1.getFullYear() == date2.getFullYear()){
      str2 = (date2.getMonth() - 0 + 1) + '/' + date2.getDate() + " " + hour + ":" + minutes;
    }else{
      str2 = date2.getFullYear() + '/' + (date2.getMonth() - 0 + 1) + '/' + date2.getDate() + " " + hour + ":" + minutes;
    }
    
    return  str1+"~"+str2;
  }
})  